{% extends 'blog/base.html' %} {% load safe_filters %} {% block content %}

<article class="media content-section">
  <div class="media-body">
    <div class="article-metadata">
      <h1>Blog Home</h1>
      {% for post in posts %}
      <hr />
      <h3><a href="{% url 'blog-detail' post.id %}">{{post.title}}</a></h3>
      <p>By: {{post.author}} on {{post.date_posted}}</p>
      <p class="article-content">{{ post.content|truncatechars:300|safe }}</p>
      {% if post.content|length > 300 %}
      <a href="{% url 'blog-detail' post.id %}">Read more</a>
      {% endif %}
      {% endfor %}
    </div>
  </div>
</article>

{% endblock content %}
